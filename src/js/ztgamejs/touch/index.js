import DEVICE from"../device/index";var Touch=function(a,b){var c,d,e,f,g,h,i=this,j=!1;this._init=function(){return a?void(DEVICE.isMobile?(e="touchstart",f="touchmove",g="touchend"):(e="mousedown",f="mousemove",g="mouseup"),i.bind()):void console.warn()("\u7F3A\u5C11\u53C2\u6570")},this.bind=function(){a.addEventListener(e,i._startHandle,!1),document.addEventListener(f,i._moveHandle,!1),a.addEventListener(g,i._endHandle,!1),document.addEventListener(g,i._endHandle,!1)},this.unbind=function(){a.removeEventListener(e,i._startHandle,!1),document.removeEventListener(f,i._moveHandle,!1),a.removeEventListener(g,i._endHandle,!1),document.removeEventListener(g,i._endHandle,!1)},this._startHandle=function(a){if(j=!0,!!a.touches)h=a.touches[0];else if("undefined"!=typeof a.pageX&&"undefined"!=typeof a.pageY)h={pageX:a.pageX,pageY:a.pageY};else return;c={x:h.pageX,y:h.pageY},"function"==typeof b.start&&b.start(c,a)},this._moveHandle=function(a){if(j){if(!!a.changedTouches&&"undefined"!=typeof a.changedTouches)h=a.changedTouches[0];else if("undefined"!=typeof a.pageX&&"undefined"!=typeof a.pageY)h={pageX:a.pageX,pageY:a.pageY};else return;d={x:h.pageX-c.x,y:h.pageY-c.y},"function"==typeof b.move&&b.move(d,a)}},this._endHandle=function(a){if(j){if(j=!1,!!a.changedTouches&&"undefined"!=typeof a.changedTouches)h=a.changedTouches[0];else if("undefined"!=typeof a.pageX&&"undefined"!=typeof a.pageY)h={pageX:a.pageX,pageY:a.pageY};else return;"function"==typeof b.end&&(d={x:h.pageX-c.x,y:h.pageY-c.y},"function"==typeof b.end&&b.end(d,a))}},this._init()};export default Touch;
